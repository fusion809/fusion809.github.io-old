<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Mon Nov 23 13:38:37 2015 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LN</title>

</head>
<body>

<h1 align="center">LN</h1>

<a href="#PROLOG">PROLOG</a><br>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERANDS">OPERANDS</a><br>
<a href="#STDIN">STDIN</a><br>
<a href="#INPUT FILES">INPUT FILES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#ASYNCHRONOUS EVENTS">ASYNCHRONOUS EVENTS</a><br>
<a href="#STDOUT">STDOUT</a><br>
<a href="#STDERR">STDERR</a><br>
<a href="#OUTPUT FILES">OUTPUT FILES</a><br>
<a href="#EXTENDED DESCRIPTION">EXTENDED DESCRIPTION</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#CONSEQUENCES OF ERRORS">CONSEQUENCES OF ERRORS</a><br>
<a href="#APPLICATION USAGE">APPLICATION USAGE</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#RATIONALE">RATIONALE</a><br>
<a href="#FUTURE DIRECTIONS">FUTURE DIRECTIONS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>PROLOG
<a name="PROLOG"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This manual
page is part of the POSIX Programmer&rsquo;s Manual. The
Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux
behavior), or the interface may not be implemented on
Linux.</p>

<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ln &mdash; link
files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ln
<b>[</b>&minus;fs<b>] [</b>&minus;L|&minus;P<b>]</b>
<i>source_file target_file</i></p>

<p style="margin-left:11%; margin-top: 1em">ln
<b>[</b>&minus;fs<b>] [</b>&minus;L|&minus;P<b>]</b>
<i>source_file</i>... <i>target_dir</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In the first
synopsis form, the <i>ln</i> utility shall create a new
directory entry (link) at the destination path specified by
the <i>target_file</i> operand. If the <b>&minus;s</b>
option is specified, a symbolic link shall be created for
the file specified by the <i>source_file</i> operand. This
first synopsis form shall be assumed when the final operand
does not name an existing directory; if more than two
operands are specified and the final is not an existing
directory, an error shall result.</p>

<p style="margin-left:11%; margin-top: 1em">In the second
synopsis form, the <i>ln</i> utility shall create a new
directory entry (link), or if the <b>&minus;s</b> option is
specified a symbolic link, for each file specified by a
<i>source_file</i> operand, at a destination path in the
existing directory named by <i>target_dir</i>.</p>

<p style="margin-left:11%; margin-top: 1em">If the last
operand specifies an existing file of a type not specified
by the System Interfaces volume of POSIX.1-2008, the
behavior is implementation-defined.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding destination path for each <i>source_file</i>
shall be the concatenation of the target directory pathname,
a &lt;slash&gt; character if the target directory pathname
did not end in a &lt;slash&gt;, and the last pathname
component of the <i>source_file</i>. The second synopsis
form shall be assumed when the final operand names an
existing directory.</p>

<p style="margin-left:11%; margin-top: 1em">For each
<i>source_file</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p>1.</p></td>
<td width="2%"></td>
<td width="83%">


<p>If the destination path exists and was created by a
previous step, it is unspecified whether <i>ln</i> shall
write a diagnostic message to standard error, do nothing
more with the current <i>source_file</i>, and go on to any
remaining <i>source_file</i>s; or will continue processing
the current <i>source_file</i>. If the destination path
exists:</p> </td></tr>
</table>

<p style="margin-left:17%;">a.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="10%"></td>
<td width="1%"></td>
<td width="77%">


<p style="margin-top: 1em">If the <b>&minus;f</b> option is
not specified, <i>ln</i> shall write a diagnostic message to
standard error, do nothing more with the current
<i>source_file</i>, and go on to any remaining
<i>source_file</i>s.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="10%">


<p>b.</p></td>
<td width="1%"></td>
<td width="77%">


<p>If <i>destination</i> names the same directory entry as
the current <i>source_file ln</i> shall write a diagnostic
message to standard error, do nothing more with the current
<i>source_file</i>, and go on to any remaining
<i>source_file</i>s<i>.</i></p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="10%">


<p>c.</p></td>
<td width="1%"></td>
<td width="77%">


<p>Actions shall be performed equivalent to the
<i>unlink</i>() function defined in the System Interfaces
volume of POSIX.1-2008, called using <i>destination</i> as
the <i>path</i> argument. If this fails for any reason,
<i>ln</i> shall write a diagnostic message to standard
error, do nothing more with the current <i>source_file</i>,
and go on to any remaining <i>source_file</i>s.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="10%">


<p>2.</p></td>
<td width="1%"></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If the
<b>&minus;s</b> option is specified, actions shall be
performed equivalent to the <i>symlink</i>() function with
<i>source_file</i> as the <i>path1</i> argument and the
destination path as the <i>path2</i> argument. The <i>ln</i>
utility shall do nothing more with <i>source_file</i> and
shall go on to any remaining files.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">3.</p></td>
<td width="2%"></td>
<td width="52%">


<p style="margin-top: 1em">If <i>source_file</i> is a
symbolic link:</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%;">a.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%"></td>
<td width="1%"></td>
<td width="77%">


<p style="margin-top: 1em">If the <b>&minus;P</b> option is
in effect, actions shall be performed equivalent to the
<i>linkat</i>() function with <i>source_file</i> as the
<i>path1</i> argument, the destination path as the
<i>path2</i> argument, AT_FDCWD as the <i>fd1</i> and
<i>fd2</i> arguments, and zero as the <i>flag</i>
argument.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p>b.</p></td>
<td width="1%"></td>
<td width="77%">


<p>If the <b>&minus;L</b> option is in effect, actions
shall be performed equivalent to the <i>linkat</i>()
function with <i>source_file</i> as the <i>path1</i>
argument, the destination path as the <i>path2</i> argument,
AT_FDCWD as the <i>fd1</i> and <i>fd2</i> arguments, and
AT_SYMLINK_FOLLOW as the <i>flag</i> argument.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The <i>ln</i>
utility shall do nothing more with <i>source_file</i> and
shall go on to any remaining files.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">


<p style="margin-top: 1em">4.</p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">Actions shall be performed
equivalent to the <i>link</i>() function defined in the
System Interfaces volume of POSIX.1-2008 using
<i>source_file</i> as the <i>path1</i> argument, and the
destination path as the <i>path2</i> argument.</p></td></tr>
</table>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <i>ln</i>
utility shall conform to the Base Definitions volume of
POSIX.1-2008, <i>Section 12.2</i>, <i>Utility Syntax
Guidelines</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The following
options shall be supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;f</b></p></td>
<td width="12%"></td>
<td width="74%">


<p style="margin-top: 1em">Force existing destination
pathnames to be removed to allow the link.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;L</b></p></td>
<td width="12%"></td>
<td width="74%">


<p>For each <i>source_file</i> operand that names a file of
type symbolic link, create a (hard) link to the file
referenced by the symbolic link.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;P</b></p></td>
<td width="12%"></td>
<td width="74%">


<p>For each <i>source_file</i> operand that names a file of
type symbolic link, create a (hard) link to the symbolic
link itself.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;s</b></p></td>
<td width="12%"></td>
<td width="74%">


<p>Create symbolic links instead of hard links. If the
<b>&minus;s</b> option is specified, the <b>&minus;L</b> and
<b>&minus;P</b> options shall be silently ignored.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Specifying more
than one of the mutually-exclusive options <b>&minus;L</b>
and <b>&minus;P</b> shall not be considered an error. The
last option specified shall determine the behavior of the
utility (unless the <b>&minus;s</b> option causes it to be
ignored).</p>

<p style="margin-left:11%; margin-top: 1em">If the
<b>&minus;s</b> option is not specified and neither a
<b>&minus;L</b> nor a <b>&minus;P</b> option is specified,
it is implementation-defined which of the <b>&minus;L</b>
and <b>&minus;P</b> options will be used as the default.</p>

<h2>OPERANDS
<a name="OPERANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
operands shall be supported: <i><br>
source_file</i></p>

<p style="margin-left:26%;">A pathname of a file to be
linked. If the <b>&minus;s</b> option is specified, no
restrictions on the type of file or on its existence shall
be made. If the <b>&minus;s</b> option is not specified,
whether a directory can be linked is
implementation-defined.</p>

<p style="margin-left:11%;"><i>target_file</i></p>

<p style="margin-left:26%;">The pathname of the new
directory entry to be created.</p>

<p style="margin-left:11%;"><i>target_dir</i></p>

<p style="margin-left:26%;">A pathname of an existing
directory in which the new directory entries are
created.</p>

<h2>STDIN
<a name="STDIN"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>INPUT FILES
<a name="INPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
environment variables shall affect the execution of
<i>ln</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><i>LANG</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>Provide a default value for the internationalization
variables that are unset or null. (See the Base Definitions
volume of POSIX.1-2008, <i>Section 8.2</i>,
<i>Internationalization Variables</i> for the precedence of
internationalization variables used to determine the values
of locale categories.)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><i>LC_ALL</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>If set to a non-empty string value, override the values
of all the other internationalization variables.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p><i>LC_CTYPE</i></p></td>
<td width="3%"></td>
<td width="74%">


<p>Determine the locale for the interpretation of sequences
of bytes of text data as characters (for example,
single-byte as opposed to multi-byte characters in
arguments).</p> </td></tr>
</table>

<p style="margin-left:11%;"><i>LC_MESSAGES</i></p>

<p style="margin-left:26%;">Determine the locale that
should be used to affect the format and contents of
diagnostic messages written to standard error.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p><i>NLSPATH</i></p></td>
<td width="4%"></td>
<td width="74%">


<p>Determine the location of message catalogs for the
processing of <i>LC_MESSAGES</i>.</p></td></tr>
</table>

<h2>ASYNCHRONOUS EVENTS
<a name="ASYNCHRONOUS EVENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<h2>STDOUT
<a name="STDOUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Not used.</p>

<h2>STDERR
<a name="STDERR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The standard
error shall be used only for diagnostic messages.</p>

<h2>OUTPUT FILES
<a name="OUTPUT FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXTENDED DESCRIPTION
<a name="EXTENDED DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
exit values shall be returned:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em">0</p></td>
<td width="6%"></td>
<td width="75%">


<p style="margin-top: 1em">All the specified files were
linked successfully.</p></td>
<td width="5%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>&gt;0</p></td>
<td width="6%"></td>
<td width="75%">


<p>An error occurred.</p></td>
<td width="5%">
</td></tr>
</table>

<h2>CONSEQUENCES OF ERRORS
<a name="CONSEQUENCES OF ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Default.</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
following sections are informative.</i></p>

<h2>APPLICATION USAGE
<a name="APPLICATION USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>RATIONALE
<a name="RATIONALE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
CONSEQUENCES OF ERRORS section does not require <i>ln</i>
<b>&minus;f</b> <i>a b</i> to remove <i>b</i> if a
subsequent link operation would fail.</p>

<p style="margin-left:11%; margin-top: 1em">Some historic
versions of <i>ln</i> (including the one specified by the
SVID) unlink the destination file, if it exists, by default.
If the mode does not permit writing, these versions prompt
for confirmation before attempting the unlink. In these
versions the <b>&minus;f</b> option causes <i>ln</i> not to
attempt to prompt for confirmation.</p>

<p style="margin-left:11%; margin-top: 1em">This allows
<i>ln</i> to succeed in creating links when the target file
already exists, even if the file itself is not writable
(although the directory must be). Early proposals specified
this functionality.</p>

<p style="margin-left:11%; margin-top: 1em">This volume of
POSIX.1-2008 does not allow the <i>ln</i> utility to unlink
existing destination paths by default for the following
reasons:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p style="margin-top: 1em">*</p></td>
<td width="3%"></td>
<td width="83%">


<p style="margin-top: 1em">The <i>ln</i> utility has
historically been used to provide locking for shell
applications, a usage that is incompatible with <i>ln</i>
unlinking the destination path by default. There was no
corresponding technical advantage to adding this
functionality.</p> </td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="3%"></td>
<td width="83%">


<p>This functionality gave <i>ln</i> the ability to destroy
the link structure of files, which changes the historical
behavior of <i>ln</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="3%"></td>
<td width="83%">


<p>This functionality is easily replicated with a
combination of <i>rm</i> and <i>ln</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="3%"></td>
<td width="83%">


<p>It is not historical practice in many systems; BSD and
BSD-derived systems do not support this behavior.
Unfortunately, whichever behavior is selected can cause
scripts written expecting the other behavior to fail.</p></td></tr>
<tr valign="top" align="left">
<td width="12%"></td>
<td width="2%">


<p>*</p></td>
<td width="3%"></td>
<td width="83%">


<p>It is preferable that <i>ln</i> perform in the same
manner as the <i>link</i>() function, which does not permit
the target to exist already.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">This volume of
POSIX.1-2008 retains the <b>&minus;f</b> option to provide
support for shell scripts depending on the SVID semantics.
It seems likely that shell scripts would not be written to
handle prompting by <i>ln</i> and would therefore have
specified the <b>&minus;f</b> option.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;f</b> option is an undocumented feature of many
historical versions of the <i>ln</i> utility, allowing
linking to directories. These versions require
modification.</p>

<p style="margin-left:11%; margin-top: 1em">Early proposals
of this volume of POSIX.1-2008 also required a
<b>&minus;i</b> option, which behaved like the
<b>&minus;i</b> options in <i>cp</i> and <i>mv</i>,
prompting for confirmation before unlinking existing files.
This was not historical practice for the <i>ln</i> utility
and has been omitted.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;L</b> and <b>&minus;P</b> options allow for
implementing both common behaviors of the <i>ln</i> utility.
Earlier versions of this standard did not specify these
options and required the behavior now described for the
<b>&minus;L</b> option. Many systems by default or as an
alternative provided a non-conforming <i>ln</i> utility with
the behavior now described for the <b>&minus;P</b> option.
Since applications could not rely on <i>ln</i> following
links in practice, the <b>&minus;L</b> and <b>&minus;P</b>
options were added to specify the desired behavior for the
application.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>&minus;L</b> and <b>&minus;P</b> options are ignored when
<b>&minus;s</b> is specified in order to allow an alias to
be created to alter the default behavior when creating hard
links (for example, <i>alias ln</i>=&rsquo;<i>ln</i>
<b>&minus;L</b>&rsquo;). They serve no purpose when
<b>&minus;s</b> is specified, since <i>source_file</i> is
then just a string to be used as the contents of the created
symbolic link and need not exist as a file.</p>

<p style="margin-left:11%; margin-top: 1em">The
specification ensures that <i>ln</i> <b>a a</b> with or
without the <b>&minus;f</b> option will not unlink the file
<b>a</b>. Earlier versions of this standard were unclear in
this case.</p>

<h2>FUTURE DIRECTIONS
<a name="FUTURE DIRECTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>chmod</i>,
<i>find</i>, <i>pax</i>, <i>rm</i></p>

<p style="margin-left:11%; margin-top: 1em">The Base
Definitions volume of POSIX.1-2008, <i>Chapter 8</i>,
<i>Environment Variables</i>, <i>Section 12.2</i>,
<i>Utility Syntax Guidelines</i></p>

<p style="margin-left:11%; margin-top: 1em">The System
Interfaces volume of POSIX.1-2008, <i>link</i>(),
<i>unlink</i>()</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Portions of
this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2013 Edition, Standard for Information
Technology -- Portable Operating System Interface (POSIX),
The Open Group Base Specifications Issue 7, Copyright (C)
2013 by the Institute of Electrical and Electronics
Engineers, Inc and The Open Group. (This is POSIX.1-2008
with the 2013 Technical Corrigendum 1 applied.) In the event
of any discrepancy between this version and the original
IEEE and The Open Group Standard, the original IEEE and The
Open Group Standard is the referee document. The original
Standard can be obtained online at
http://www.unix.org/online.html .</p>

<p style="margin-left:11%; margin-top: 1em">Any
typographical or formatting errors that appear in this page
are most likely to have been introduced during the
conversion of the source files to man page format. To report
such errors, see
https://www.kernel.org/doc/man-pages/reporting_bugs.html
.</p>
<hr>
</body>
</html>
