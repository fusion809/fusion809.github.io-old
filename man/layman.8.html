<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Fri Oct  9 17:45:25 2015 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LAYMAN</title>

</head>
<body>

<h1 align="center">LAYMAN</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#HANDLING OVERLAYS">HANDLING OVERLAYS</a><br>
<a href="#OVERLAY LISTS">OVERLAY LISTS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">layman &minus;
manage your local repository of Gentoo overlays</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;a</b>|<b>&minus;&minus;add</b>)
(<b>ALL</b>|<i>OVERLAY</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;d</b>|<b>&minus;&minus;delete</b>)
(<b>ALL</b>|<i>OVERLAY</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;D</b>|<b>&minus;&minus;disable</b>)
(<b>ALL</b>|<i>OVERLAY</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;E</b>|<b>&minus;&minus;enable</b>)
(<b>ALL</b>|<i>OVERLAY</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;f</b>|<b>&minus;&minus;fetch</b>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;i</b>|<b>&minus;&minus;info</b>)
(<b>ALL</b>|<i>OVERLAY</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;L</b>|<b>&minus;&minus;list</b>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;l</b>|<b>&minus;&minus;list&minus;local</b>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;r</b>|<b>&minus;&minus;readd</b>)
(<b>ALL</b>|<i>OVERLAY</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;s</b>|<b>&minus;&minus;sync</b>)
(<b>ALL</b>|<i>OVERLAY</i>)</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
(<b>&minus;S</b>|<b>&minus;&minus;sync&minus;all</b>)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
is a script that allows you to add, remove, re&minus;add,
update, disable, and then re&minus;enable Gentoo overlays
from a variety of sources.</p>

<p style="margin-left:11%; margin-top: 1em"><b>WARNING <br>
layman</b> makes it easy to retrieve and update overlays for
Gentoo. In addition it makes it TRIVIAL to break your
system.</p>

<p style="margin-left:11%; margin-top: 1em">The Gentoo main
tree provides you with high quality ebuilds that are all
maintained by Gentoo developers. This will not be the case
for most of the overlays you can get by using <b>layman</b>.
Thus you are removing the security shield that the standard
tree provides for you. You should keep that in mind when
installing ebuilds from an overlay.</p>

<p style="margin-left:11%; margin-top: 1em">To ensure the
security of your system you MUST read the source of the
ebuild you are about to install.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ACTIONS</b>
<br>
List of possible <b>layman</b> actions.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b>
<i>OVERLAY</i>, <b>&minus;&minus;add</b>=<i>OVERLAY</i></p>

<p style="margin-left:17%;">Add the given overlay from the
cached remote list to your locally installed overlays.
Specify &quot;ALL&quot; to add all overlays from the remote
list.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b>
<i>OVERLAY</i>,
<b>&minus;&minus;delete</b>=<i>OVERLAY</i></p>

<p style="margin-left:17%;">Remove the given overlay from
your locally installed overlays. Specify &quot;ALL&quot; to
remove all overlays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;D</b>
<i>OVERLAY</i>,
<b>&minus;&minus;disable</b>=<i>OVERLAY</i></p>

<p style="margin-left:17%;">Disable the given overlay from
portage. Specify &quot;ALL&quot; to disable all installed
overlays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;E</b>
<i>OVERLAY</i>,
<b>&minus;&minus;enable</b>=<i>OVERLAY</i></p>

<p style="margin-left:17%;">Re&minus;enable a previously
disabled overlay. Specify &quot;ALL&quot; to enable all
installed overlays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;f</b>,
<b>&minus;&minus;fetch</b></p>

<p style="margin-left:17%;">Fetches the remote list of
overlays. You will usually NOT need to explicitly specify
this option. The fetch operation will be performed
automatically once you run the sync, sync&minus;all, or list
action. You can prevent this automatic fetching using the
<b>&minus;&minus;nofetch</b> option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;i</b>
<i>OVERLAY</i>, <b>&minus;&minus;info</b>=<i>OVERLAY</i></p>

<p style="margin-left:17%;">Display all available
information about the specified overlay.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;L</b>,
<b>&minus;&minus;list</b></p>

<p style="margin-left:17%;">List the contents of the remote
list.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;l</b>,
<b>&minus;&minus;list&minus;local</b></p>

<p style="margin-left:17%;">List the locally installed
overlays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;n</b>,
<b>&minus;&minus;nofetch</b></p>

<p style="margin-left:17%;">Prevents <b>layman</b> from
automatically fetching the remote lists of overlays. The
default behavior for <b>layman</b> is to update all remote
lists if you run the sync, list or fetch operation.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;p</b>
<i>LEVEL</i>, <b>&minus;&minus;priority</b>=<i>LEVEL</i></p>

<p style="margin-left:17%;">Use this option in combination
with the <b>&minus;&minus;add</b>.</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
make.conf:: It will modify the priority of the added overlay
and thus influence the order of entries in the make.conf
file. The lower the priority, the earlier in the list the
entry will be mentioned in the make.conf.</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
repos.conf:: It will modify the priority in the repos.conf
file, and thus influence the portage overlay priority. Read
<b>man portage</b> for more details on overlay priority. Use
a value between 0 and 100. The default value is 50.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;r</b>
<i>OVERLAY</i>,
<b>&minus;&minus;readd</b>=<i>OVERLAY</i></p>

<p style="margin-left:17%;">Remove and re&minus;add the
given overlay from the cached remote list to your locally
installed overlays. Specify &quot;ALL&quot; to re&minus;add
all local overlays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;s</b>
<i>OVERLAY</i>, <b>&minus;&minus;sync</b>=<i>OVERLAY</i></p>

<p style="margin-left:17%;">Update the specified overlay.
Use &quot;ALL&quot; as parameter to synchronize all
overlays.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;S</b>,
<b>&minus;&minus;sync&minus;all</b></p>

<p style="margin-left:17%;">Update all overlays. Shortcut
for <b>&minus;s ALL</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>PATH
OPTIONS</b> <br>
List of available <b>layman</b> path options.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b>
<i>PATH</i>, <b>&minus;&minus;config</b>=<i>PATH</i></p>

<p style="margin-left:17%;">Path to an alternative
configuration file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;C</b>
<i>PATH</i>, <b>&minus;&minus;configdir</b>=<i>PATH</i></p>

<p style="margin-left:17%;">Directory path for all layman
configuration information.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;o</b>
<i>URL</i>, <b>&minus;&minus;overlays</b>=<i>URL</i></p>

<p style="margin-left:17%;">Specifies the location of
additional overlay lists. You can use this flag several
times and the specified URLs will get temporarily appended
to the list of URLs you specified in your config file. You
may also specify local file URLs by prepending the path with
<i>file://</i>. This option will only append the URL for
this specific <b>layman</b> run &minus; edit your config
file to add a URL permanently. So this is useful for testing
purposes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;O</b>
<i>PATH</i>, <b>&minus;&minus;overlay_defs</b>
<i>PATH</i></p>

<p style="margin-left:17%;">Path to additional overlay.xml
files.</p>

<p style="margin-left:11%; margin-top: 1em"><b>OUTPUT
OPTIONS:</b> <br>
List of <b>layman</b> output options.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;debug&minus;level</b>
<i>DEBUG_LEVEL</i></p>

<p style="margin-left:17%;">Outputs <b>layman</b> debugging
information. The lower the debug level, the less debugging
information you&rsquo;ll get. Use a value between 0 and 10.
0 means no debugging information, 10 selects all debugging
messages. The default debug level is 4.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;k</b>,
<b>&minus;&minus;nocheck</b></p>

<p style="margin-left:23%; margin-top: 1em">&bull; When
listing remote overlays (using <b>&minus;L</b> or
<b>&minus;&minus;list</b>) <b>layman</b> no longer hides
overlays, for which you lack the tools to use. By default,
<b>layman</b> hides Git repositories if you do not have Git
installed. Same applies to Subversion, CVS and so forth.</p>

<p style="margin-left:23%; margin-top: 1em">&bull; Prevents
<b>layman</b> from checking the remote lists of overlays for
complete overlay definitions. The default behavior for
<b>layman</b> is to reject overlays that do not provide a
description or a contact attribute.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;N</b>,
<b>&minus;&minus;nocolor</b></p>

<p style="margin-left:17%;">Remove color codes from the
<b>layman</b> output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;q</b>,
<b>&minus;&minus;quiet</b></p>

<p style="margin-left:17%;">Makes <b>layman</b> completely
quiet. In quiet mode child processes will be run with stdin
closed to avoid running into infinite and blindly
interactive sessions. Thus a child process may abort once it
runs into an situation with need for human interaction. For
example this might happen if your overlay resides in
Subversion and the SSL certificate of the server needs
manual acceptance.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;Q</b>
<i>LEVEL</i>,
<b>&minus;&minus;quietness</b>=<i>LEVEL</i></p>

<p style="margin-left:17%;">Makes <b>layman</b> less
verbose. Choose a value between 0 and 4 with 0 being
completely quiet. Once you set this below 3, the same
warning as given for <b>&minus;&minus;quiet</b> applies.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;v</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:17%;">Makes <b>layman</b> more
verbose and you will receive a description of the overlays
you can download.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;W</b>
<i>WIDTH</i>, <b>&minus;&minus;width</b> <i>WIDTH</i></p>

<p style="margin-left:17%;">Sets the screen width. This
setting is usually not required as layman is capable of
detecting the available number of columns automatically.</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
reads configuration parameters from the file
<i>/etc/layman/layman.cfg</i> by default. This file provides
seven possible settings.</p>

<p style="margin-left:11%; margin-top: 1em">storage</p>

<p style="margin-left:17%;">Directory that will be used to
store the overlays and all additional data <b>layman</b>
needs. The default is <i>/var/lib/layman</i>. <b>layman</b>
uses a location within the <i>/usr/portage</i> hierarchy
instead of <i>/var</i> in order to store its data. This
decision has been made to support network file systems. If
you have your Gentoo tree on NFS or a similar file system
and several machines access the same ebuild repository over
the net it will be necessary to also provide all necessary
<b>layman</b> data within the hierarchy of the tree. This
way the overlays will also have to be synced at one location
only.</p>

<p style="margin-left:11%; margin-top: 1em">cache</p>

<p style="margin-left:17%; margin-top: 1em"><b>layman</b>
will store the downloaded global list of overlays here. The
default is <i>%(storage)s/cache.xml</i>.</p>

<p style="margin-left:11%; margin-top: 1em">installed</p>

<p style="margin-left:17%; margin-top: 1em"><b>layman</b>
will store the list of installed overlays here. The default
is <i>%(storage)s/installed.xml</i>.</p>

<p style="margin-left:11%; margin-top: 1em">make.conf</p>

<p style="margin-left:17%;">This is the <b>portage</b>
configuration file that <b>layman</b> will modify in order
to make the new overlays available within <b>portage</b>.
The default is <i>%(storage)s/make.conf</i>. You could also
specify <i>/etc/portage/make.conf</i> directly. But that
would mean that you have an external program trying to
automatically set variables within this very central
configuration file. Since I consider that dangerous I prefer
having a very small external file that only contains the
setting for <b>PORTDIR_OVERLAY</b>. This file is then
sourced at the end of <i>/etc/portage/make.conf</i>. This is
the reason why <b>layman</b> suggests running the following
<b>after</b> it has been installed.</p>

<p style="margin-left:23%; margin-top: 1em">echo 'source
/var/lib/layman/make.conf' &gt;&gt;
/etc/portage/make.conf</p>

<p style="margin-left:11%; margin-top: 1em">overlays</p>

<p style="margin-left:17%;">Specifies the URL for the
remote list of all available overlays. The default is
<i>https://api.gentoo.org/overlays/repositories.xml</i>. You
can specify several URLs here (one per line). The contents
will get merged to a single list of overlays. This allows to
add a personal collection of overlays that are not present
in the global list.</p>

<p style="margin-left:11%; margin-top: 1em">proxy</p>

<p style="margin-left:17%;">Specify your proxy in case you
have to use one.</p>

<p style="margin-left:11%; margin-top: 1em">nocheck</p>

<p style="margin-left:17%;">Set to &quot;yes&quot; if
<b>layman</b> should stop worrying about overlays with
missing a contact address or the description.</p>


<p style="margin-left:11%; margin-top: 1em">clean_archive</p>

<p style="margin-left:17%;">Set to &quot;yes&quot; if
<b>layman</b> will delete archive files downloaded when
installing archive type overlays. This option is only
applicable to remote archive overlays. <b>layman</b> will
leave the reponsibility of deleting local archive files up
to the user. By default, <b>layman</b> will delete
downloaded archive files.</p>


<p style="margin-left:11%; margin-top: 1em">check_official</p>

<p style="margin-left:17%;">Set to &quot;no&quot; if you
don&rsquo;t want layman to prompt you for consent during the
installation of an unofficial overlay.</p>

<p style="margin-left:11%; margin-top: 1em">Per repository
type Add, Sync options.</p>

<p style="margin-left:11%; margin-top: 1em">bzr_addopts,
bzr_syncopts, cvs_addopts, cvs_syncopts, ...</p>

<p style="margin-left:17%;">These are a space separated
list of command options to include in the commands sent to
perform the desired action.</p>

<p style="margin-left:11%; margin-top: 1em">Per repository
type Post Add, Sync hooks.</p>

<p style="margin-left:11%; margin-top: 1em">bzr_postsync,
cvs_postsync, darcs_postsync, git_postsync, ...</p>

<p style="margin-left:17%;">These are a space separated
list of commands that are run after each add, sync operation
if they are defined.</p>

<p style="margin-left:11%; margin-top: 1em"><b>*NEW*Repo
Configuration options <br>
layman</b> now accepts multiple repository config file
options. One being the already standard make.conf option and
the other being the repos.conf files that can be placed in
/etc/portage/repos.conf/. The below configuration options
allow you to alter particular things regarding the
repository configuration::</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
conf_type:: Specifies the repo configuration type you wish
to use. This can be <b>repos.conf</b>, <b>make.conf</b>, or
both separated by a comma. The default value is
<b>repos.conf</b>.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
require_repoconfig:: Defines whether a configuration file is
needed for the package manager or other
multi&minus;repository consumer application.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
repos_conf:: Specifies the path to the config file for all
repos.conf configuration. The default location is
<i>/etc/portage/repos.conf/layman.conf</i>.</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
auto_sync:: &quot;yes&quot; or &quot;no&quot; value that
defines whether or not you want your layman overlays
automatically synced by the portage sync plug&minus;in
(requires repos.conf support).</p>

<h2>HANDLING OVERLAYS
<a name="HANDLING OVERLAYS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
intends to provide easy maintenance of Gentoo overlays while
not requiring any configuration.</p>

<p style="margin-left:11%; margin-top: 1em"><b>OVERLAY
LISTS <br>
layman</b> allows you to fetch an overlay without the need
to modify any configuration files. In order for this to be
possible the script needs an external list of possible
overlay sources. There is a centralized list available at
<i>https://api.gentoo.org/overlays/repositories.xml</i> but
nothing will prevent you from using or publishing your own
list of overlays. The location of the remote lists can also
be modified using the <b>&minus;&minus;overlays</b> option
when running <b>layman</b>.</p>

<p style="margin-left:11%; margin-top: 1em">To get a new
overlay added to the central list provided for
<b>layman</b>, send a mail to &lt;overlays@gentoo.org&gt;.
Gentoo developers may add their overlay entries directly
into the list which can be accessed over the CVS repository
for the Gentoo website.</p>

<p style="margin-left:11%; margin-top: 1em">You can also
use several lists at the same time. Just add one URL per
line to the overlays variable in your configuration file.
<b>layman</b> will merge the contents of all lists.</p>

<p style="margin-left:11%; margin-top: 1em"><b>layman</b>
also allows you to define local files in this list. Just
make sure you prepend these path names in standard URL
notation with <i>file://</i>. <b>layman</b> also gives you
the ability to just add an overlay definition to
<i>/etc/layman/overlays/some&minus;overlay.xml</i> and it
will be automatically available for actions such as add,
delete, info... (see below for file format details)</p>

<p style="margin-left:11%; margin-top: 1em">If you need to
use a proxy for access to the Internet, you can use the
corresponding variable in the <b>layman</b> configuration
file. <b>layman</b> will also respect the <b>http_proxy</b>
environment variable in case you set it.</p>

<p style="margin-left:11%; margin-top: 1em"><b>LOCAL CACHE
<br>
layman</b> stores a local copy of the fetched remote list.
It will be stored in <i>/var/lib/layman/cache.xml</i> by
default. There exists only one such cache file and it will
be overwritten every time you run <b>layman</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>HANDLING
/ETC/PORTAGE/MAKE.CONF</b> <br>
Since <b>layman</b> is designed to automatically handle the
inclusion of overlays into your system it needs to be able
to modify the <b>PORTDIR_OVERLAY</b> variable in your
<i>/etc/portage/make.conf</i> file. But
<i>/etc/portage/make.conf</i> is a very central and
essential configuration file for a Gentoo system.
Automatically modifying this file would be somewhat
dangerous. You can allow <b>layman</b> to do this by setting
the make_conf variable in the configuration file to
<i>/etc/portage/make.conf</i>.</p>

<p style="margin-left:11%; margin-top: 1em">A much safer
and in fact recommended solution to the problem is to let
<b>layman</b> handle an external file that only contains the
<b>PORTDIR_OVERLAY</b> variable and is sourced within the
standard <i>/etc/portage/make.conf</i> file. Just add the
following line to the end of your
<i>/etc/portage/make.conf</i> file:</p>

<p style="margin-left:17%; margin-top: 1em">source
/var/lib/layman/make.conf</p>


<p style="margin-left:11%; margin-top: 1em"><i>/var/lib/layman/make.conf</i>
is the default provided in the <b>layman</b> configuration.
Change this file name in case you decide to store it
somewhere else.</p>

<p style="margin-left:11%; margin-top: 1em">The file does
not necessarily need to exist at the beginning. If it is
missing, <b>layman</b> will create it for you.</p>

<p style="margin-left:11%; margin-top: 1em">There is also
no need to remove the original <b>PORTDIR_OVERLAY</b>
variable from the make.conf file. Layman will simply add new
overlays to this variable and all your old entries will
remain in there.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ADDING,
REMOVING AND UPDATING OVERLAYS</b> <br>
Once a remote list of overlays has been fetched,
<b>layman</b> allows to add overlays from the remote list to
your system. The script will try to fetch the overlay. If
this is successful the overlay information will be copied
from the cache to the list of locally installed overlays. In
addition <b>layman</b> will modify the
<b>PORTDIR_OVERLAY</b> variable to include the new overlay
path.</p>

<p style="margin-left:11%; margin-top: 1em">Removing the
overlay with <b>layman</b> will delete the overlay without
leaving any traces behind.</p>

<p style="margin-left:11%; margin-top: 1em">In order to
update all overlays managed by <b>layman</b> you can run the
script with the <b>&minus;&minus;sync ALL</b> option or the
<b>&minus;&minus;sync&minus;all</b> flag.</p>

<p style="margin-left:11%; margin-top: 1em"><b>NEW
DISABLING, AND RE&minus;ENABLING OVERLAYS</b> <br>
portage will find installed overlays via your repo config
files, whether it be make.conf or repos.conf. If you wish to
hide the overlay from portage so that the ebuilds will not
be accessible then you can do so with the
<b>&minus;&minus;disable</b> <i>OVERLAY</i> option. This
will then disable the overlay in your repo
configurations.</p>

<p style="margin-left:11%; margin-top: 1em">To
re&minus;enable them again so that portage can again access
the ebuilds of that overlay you can simply do so with the
<b>&minus;&minus;enable</b> <i>OVERLAY</i> option.</p>

<p style="margin-left:11%; margin-top: 1em"><b>LIST
OVERLAYS <br>
layman</b> provides the <b>&minus;L</b>,
<b>&minus;&minus;list</b> and <b>&minus;l</b>,
<b>&minus;&minus;list&minus;local</b> options to print a
list of available respectively installed overlays.</p>

<p style="margin-left:11%; margin-top: 1em">Listing will
prepend all fully supported overlays with a green asterisk,
all non&minus;official overlays with a yellow asterisk and
all overlays that you will not be able to use since you do
not have the necessary tools installed with a red
asterisk.</p>

<p style="margin-left:11%; margin-top: 1em">In the default
mode <b>layman</b> will be strict about listing overlays and
only present you with overlays that are fully supported. In
addition it will complain about overlays that are missing a
description field or a contact attribute. This type of
behavior has been added with <b>layman</b> 1.0.7 and if
you&rsquo;d like to return to the old behavior you may use
the k option flag or set the nocheck option in the
configuration file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>SEARCHING
EBUILDS IN OVERLAYS</b> <br>
You can search through the ebuilds available in the overlays
on <i>http://overlays.gentoo.org/</i> by using <b>eix</b>.
Emerge the package and run:</p>


<p style="margin-left:17%; margin-top: 1em">update&minus;eix&minus;remote
update</p>

<p style="margin-left:11%; margin-top: 1em">Alternatively,
you can browse overlays that you have not installed on
<i>http://gpo.zugaina.org/</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>OVERLAY
TYPES</b> <br>
Currently <b>layman</b> supports overlays that are exported
via <b>rsync</b>, <b>CVS</b>, <b>subversion</b>, <b>bzr</b>,
<b>darcs</b>, <b>git</b>, <b>mercurial</b>, <b>tar</b>
packages, or <b>squashfs</b> images that will be mounted
read&minus;only. It also supports the generated overlay type
<b>g&minus;sorcery</b> installed with the g&minus;cran
package (at time of this writing, only available in the
science overlay).</p>

<h2>OVERLAY LISTS
<a name="OVERLAY LISTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>OVERLAY LIST
FORMAT</b> <br>
Layman uses a central list of overlays in XML format. The
file looks like this:</p>

<p style="margin-left:11%; margin-top: 1em">Example 1. An
example overlays.xml file</p>

<p style="margin-left:17%; margin-top: 1em">&lt;?xml
version=&quot;1.0&quot;
encoding=&quot;UTF&minus;8&quot;?&gt; <br>
&lt;!DOCTYPE repositories SYSTEM
&quot;/dtd/repositories.dtd&quot;&gt; <br>
&lt;repositories xmlns=&quot;&quot;
version=&quot;1.0&quot;&gt; <br>
&lt;repo quality=&quot;experimental&quot;
status=&quot;official&quot;&gt; <br>
&lt;name&gt;gnome&lt;/name&gt; <br>
&lt;description&gt;experimental gnome
ebuilds&lt;/description&gt; <br>

&lt;homepage&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/gnome.git;a=summary&lt;/homepage&gt;
<br>
&lt;owner type=&quot;project&quot;&gt; <br>
&lt;email&gt;gnome@gentoo.org&lt;/email&gt; <br>
&lt;name&gt;GNOME herd&lt;/name&gt; <br>
&lt;/owner&gt; <br>
&lt;source
type=&quot;git&quot;&gt;git://git.overlays.gentoo.org/proj/gnome.git&lt;/source&gt;
<br>
&lt;source
type=&quot;git&quot;&gt;http://git.overlays.gentoo.org/gitroot/proj/gnome.git&lt;/source&gt;
<br>
&lt;source
type=&quot;git&quot;&gt;git+ssh://git@git.overlays.gentoo.org/proj/gnome.git&lt;/source&gt;
<br>

&lt;feed&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/gnome.git;a=atom&lt;/feed&gt;
<br>

&lt;feed&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/gnome.git;a=rss&lt;/feed&gt;
<br>
&lt;/repo&gt; <br>
&lt;/repositories&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Example 2. An
example overlays.xml file with a branch</p>

<p style="margin-left:17%; margin-top: 1em">&lt;?xml
version=&quot;1.0&quot;
encoding=&quot;UTF&minus;8&quot;?&gt; <br>
&lt;!DOCTYPE repositories SYSTEM
&quot;/dtd/repositories.dtd&quot;&gt; <br>
&lt;repositories xmlns=&quot;&quot;
version=&quot;1.0&quot;&gt; <br>
&lt;repo quality=&quot;experimental&quot;
status=&quot;official&quot;&gt; <br>
&lt;name&gt;&lt;hardened&minus;development&gt;&lt;/name&gt;
<br>
&lt;description&gt;&lt;Development Overlay for Hardened Gcc
4.x Toolchain&gt;&lt;/description&gt; <br>

&lt;homepage&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/hardened&minus;dev.git;a=summary&lt;/homepage&gt;
<br>
&lt;owner type=&quot;project&quot;&gt; <br>
&lt;email&gt;hardened@gentoo.org&lt;/email&gt; <br>
&lt;/owner&gt; <br>
&lt;source type=&quot;git&quot;
branch=&quot;uclibc&quot;&gt;git://git.overlays.gentoo.org/proj/hardened&minus;dev.git&lt;/source&gt;
<br>

&lt;feed&gt;http://git.overlays.gentoo.org/gitweb/?p=proj/hardened&minus;dev.git;a=atom&lt;/feed&gt;
<br>
&lt;/repo&gt; <br>
&lt;/repositories&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Users can
specify a branch for an overlay, given one actually exists.
This logic is applicable to CVS overlays as well and the
branch variable is comparable to specifying a subpath for a
CVS repository.</p>

<p style="margin-left:11%; margin-top: 1em">VCS types where
the use of &quot;branch&quot; is supported is as follows</p>

<p style="margin-left:23%; margin-top: 1em">&bull; CVS</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
Squashfs</p>

<p style="margin-left:23%; margin-top: 1em">&bull; Tar</p>

<p style="margin-left:23%; margin-top: 1em">&bull; Git</p>

<p style="margin-left:23%; margin-top: 1em">&bull;
Mercurial However, for CVS, Squashfs, and Tar overlays, the
branch will be treated as a subpath. If you use the branch
variable with any other overlay types aside from the ones
listed, it will be ignored.</p>

<p style="margin-left:11%; margin-top: 1em"><b>ADDING AN
OVERLAY LOCALLY</b> <br>
Simply create an overlay list in the format described above
and run <b>layman</b> with the &minus;o switch. You need to
prepend local file URLs with <i>file://</i>. <b>New</b> is
the ability to just add an overlay definition like the above
to /etc/layman/overlays/some&minus;overlay.xml and it will
be automatically available for actions such as add, delete,
info...</p>

<p style="margin-left:11%; margin-top: 1em"><b>ADDING AN
OVERLAY GLOBALLY</b> <br>
The global list of overlays used by <b>layman</b> lies at
<i>https://api.gentoo.org/overlays/repositories.xml</i>.</p>

<p style="margin-left:11%; margin-top: 1em">All Gentoo
developers have access to this location via CVS and can
modify the list of overlays.</p>

<p style="margin-left:11%; margin-top: 1em">If you are not
a Gentoo developer but wish to get your overlay listed you
should contact the Gentoo Overlays team at
&lt;overlays@gentoo.org&gt;. You can also join
<b>#gentoo&minus;overlays</b> on irc.freenode.net.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>INSTALLING
AN OVERLAY</b></p>

<p style="margin-left:17%;">layman &minus;f &minus;a
wrobel</p>

<p style="margin-left:11%; margin-top: 1em">This would add
the overlay with the id wrobel to your list of installed
overlays.</p>

<p style="margin-left:11%; margin-top: 1em"><b>SYNCING YOUR
OVERLAYS</b></p>

<p style="margin-left:17%;">layman &minus;s ALL</p>

<p style="margin-left:11%; margin-top: 1em">This updates
all overlays</p>

<p style="margin-left:11%; margin-top: 1em"><b>PERFORMING
SEVERAL ACTIONS AT THE SAME TIME</b></p>

<p style="margin-left:17%;">layman &minus;f &minus;a wrobel
webapps&minus;experimental</p>

<p style="margin-left:11%; margin-top: 1em">This fetches
the remote list and immediately adds two overlays</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/etc/layman/layman.cfg</i></p>

<p style="margin-left:17%;">Configuration file, holding the
defaults for <b>layman</b></p>


<p style="margin-left:11%; margin-top: 1em"><i>/var/lib/layman/make.conf</i></p>

<p style="margin-left:17%;">Configuration file that layman
modifies to register the installed overlay(s) with the
package manager</p>


<p style="margin-left:11%; margin-top: 1em"><i>/etc/portage/repos.conf/layman.conf</i></p>

<p style="margin-left:17%;">Configuration file that layman
modifies to register the installed overlay(s) with the
package manager</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">&bull; Gunnar
Wrobel &lt;wrobel@gentoo.org&gt; (original, retired)</p>

<p style="margin-left:17%; margin-top: 1em">&bull;
Sebastian Pipping &lt;sping@gentoo.org&gt;</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Brian
Dolbec &lt;brian.dolbec@gmail.com&gt;</p>

<p style="margin-left:17%; margin-top: 1em">&bull; Devan
Franchini &lt;twitch153@gentoo.org&gt;</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please report
bugs you might find at <i>http://bugs.gentoo.org/</i>. Thank
you!</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">make.conf(5),
eix(1), portage(5)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Brian
Dolbec</b> &lt;dolsen@gentoo.org&gt;</p>
 
<p style="margin-left:17%;">Author.</p>
<hr>
</body>
</html>
